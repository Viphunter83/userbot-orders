# üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞: Telegram Orders Bot

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –ù–æ—è–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å:** Production Ready

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](#–∫–æ–Ω—Ü–µ–ø—Ü–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞](#–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
3. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
4. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª-–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
5. [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é](#–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)
6. [–°—Å—ã–ª–∫–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã](#—Å—Å—ã–ª–∫–∏-–∏-—Ä–µ—Å—É—Ä—Å—ã)
7. [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)

---

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –û–ø–∏—Å–∞–Ω–∏–µ

**Telegram Orders Bot** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ IT-—É—Å–ª—É–≥–∏ –≤ Telegram-–∫–∞–Ω–∞–ª–∞—Ö –∏ –≥—Ä—É–ø–ø–∞—Ö. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –¥–µ—Ç–µ–∫—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤: –±—ã—Å—Ç—Ä—ã–π regex-–∞–Ω–∞–ª–∏–∑ –¥–ª—è –æ—á–µ–≤–∏–¥–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏ LLM-–∞–Ω–∞–ª–∏–∑ –¥–ª—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

### –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ IT-—É—Å–ª—É–≥–∏ –≤ Telegram, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞—Ö —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —á–∞—Ç–æ–≤ –±–µ–∑ —É—á–∞—Å—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞
- ‚úÖ **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑** ‚Äî –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ (regex + LLM)
- ‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å** ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ø–∞–º–∞ –∏ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞—Ç–æ–≤
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —á–∞—Ç–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

---

## üîÑ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ event-driven** –ø–æ–¥—Ö–æ–¥–∞:

```
Telegram API ‚Üí Userbot ‚Üí Message Handler ‚Üí Analysis Pipeline ‚Üí Database ‚Üí Export/Analytics
```

### –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

#### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- Userbot –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Telegram API —á–µ—Ä–µ–∑ Pyrogram
- –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ä—É–µ–º—ã—Ö —á–∞—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Å–ø–∏—Å–∫—É –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø—É—Å—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–±–µ–∑ —Ç–µ–∫—Å—Ç–∞ –∏ caption)

#### 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ë–î
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —á–∞—Ç–∞ –≤ –ë–î (—Å–æ–∑–¥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü—É `messages` –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª—è–µ—Ç –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞

#### 3. –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤

**–£—Ä–æ–≤–µ–Ω—å 1: Regex Analyzer (–±—ã—Å—Ç—Ä—ã–π, zero-cost)**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Å–∫–ª—é—á–∞—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (—Å–ø–∞–º, –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω —Å confidence ‚â• 0.80 ‚Üí –∑–∞–∫–∞–∑ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: Backend, Frontend, Mobile, AI/ML, Low-Code, Other

**–£—Ä–æ–≤–µ–Ω—å 2: LLM Classifier (–¥–ª—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤)**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ regex –Ω–µ –Ω–∞—à–µ–ª —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –ò–õ–ò confidence < 0.80
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ LLM (ProxyAPI) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- LLM –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç: —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–º, –∫–∞—Ç–µ–≥–æ—Ä–∏—é, relevance score
- –ï—Å–ª–∏ relevance_score ‚â• threshold ‚Üí –∑–∞–∫–∞–∑ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

#### 4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `userbot_orders`
- –°–≤—è–∑—ã–≤–∞–µ—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –∏ —á–∞—Ç–æ–º —á–µ—Ä–µ–∑ foreign keys
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Ç–∞–±–ª–∏—Ü–∞ `stats`)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Telegram-—Å—Å—ã–ª–∫—É –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤

–°–∏—Å—Ç–µ–º–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∑–∞–∫–∞–∑—ã –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:

1. **Backend** ‚Äî Python, Node.js, Java, Go, Rust, API, –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –≤–µ–±—Ö—É–∫–∏, —á–∞—Ç-–±–æ—Ç—ã, GetCourse
2. **Frontend** ‚Äî React, Vue, Angular, WebFlow, Figma, UI/UX –¥–∏–∑–∞–π–Ω
3. **Mobile** ‚Äî Flutter, React Native, iOS, Android —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
4. **AI/ML** ‚Äî ChatGPT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, Prompt Engineering, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
5. **Low-Code** ‚Äî Bubble, Glide, Adalo, Zapier, Make, n8n
6. **Other** ‚Äî 1C, Shopify, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏

- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã** ‚Äî –æ—Ç 1 (–Ω–∏–∑–∫–∏–π) –¥–æ 5 (–≤—ã—Å–æ–∫–∏–π)
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å —á–∞—Ç—ã –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–∞—Ç–æ–≤
- **–†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤ –ø–æ chat_id

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| **Python** | 3.10.11+ | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| **Pyrogram** | 2.0.104 | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è Telegram API |
| **SQLAlchemy** | 2.0.23 | ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö |
| **asyncpg** | 0.29.0 | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä PostgreSQL |
| **Pydantic** | 2.5.3 | –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö |
| **Typer** | 0.9.0 | CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| **Rich** | 13.7.0 | –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ |
| **Loguru** | 0.7.2 | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **httpx** | 0.27.0 | HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è LLM API |

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|------------|
| **Supabase (PostgreSQL)** | –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| **Supabase REST API** | Fallback –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è |

### AI/ML

| –°–µ—Ä–≤–∏—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|------------|
| **ProxyAPI** | LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä (OpenAI-compatible API) |
| **GPT-4 / GPT-3.5** | –ú–æ–¥–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π |

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|------------|
| **Docker** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è |
| **Docker Compose** | –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|------------|
| **pytest** | –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| **pytest-asyncio** | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã |

---

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram userbot –Ω–∞ –±–∞–∑–µ Pyrogram
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ `@client.on_message()`
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–ø–∏—Å–∫—É –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–æ–≤ –≤ –ë–î –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `src/telegram/client.py` ‚Äî Telegram –∫–ª–∏–µ–Ω—Ç
- `src/config/chat_config.py` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —á–∞—Ç–æ–≤
- `src/main.py` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π

### 2. –î–µ—Ç–µ–∫—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ (Regex Analyzer)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–∫–ª—é—á–∞—é—â–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (—Å–ø–∞–º, –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
- –ü–æ–∏—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Å —É—á–µ—Ç–æ–º confidence score
- –ü–æ—Ä–æ–≥ –¥–µ—Ç–µ–∫—Ü–∏–∏: confidence ‚â• 0.80

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã:**
- 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∑–∞–∫–∞–∑–æ–≤
- 50+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –ò—Å–∫–ª—é—á–∞—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ø–∞–º–∞

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `src/analysis/regex_analyzer.py` ‚Äî regex –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
- `src/analysis/triggers.py` ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```python
# –°–æ–æ–±—â–µ–Ω–∏–µ: "–ù—É–∂–µ–Ω Python —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: Backend (confidence: 0.95, pattern: python_dev)
# ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, LLM –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
```

### 3. LLM-–∞–Ω–∞–ª–∏–∑ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ProxyAPI (OpenAI-compatible)
- –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ GPT
- –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Å—Ö–µ–º—ã
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- Retry –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- –ë—é–¥–∂–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–æ–º–ø—Ç:**
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–º
- –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –í—ã–¥–∞–µ—Ç relevance_score (0.0-1.0)
- –û–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–∏—á–∏–Ω—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `src/analysis/llm_classifier.py` ‚Äî LLM –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `src/analysis/llm_client.py` ‚Äî HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è ProxyAPI
- `src/analysis/prompts.py` ‚Äî –ø—Ä–æ–º–ø—Ç—ã –∏ —Å—Ö–µ–º—ã –æ—Ç–≤–µ—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```python
# –°–æ–æ–±—â–µ–Ω–∏–µ: "–ò—â—É —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CRM"
# Regex: –Ω–µ –Ω–∞—à–µ–ª —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
# LLM: is_order=True, category="Backend", relevance_score=0.85
# ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –∑–∞–∫–∞–∑
```

### 4. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**

**–¢–∞–±–ª–∏—Ü–∞ `chats`:**
- `chat_id` (String, unique) ‚Äî ID —á–∞—Ç–∞ –≤ Telegram
- `chat_name` (String) ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞
- `chat_type` (String) ‚Äî —Ç–∏–ø: group, channel, private
- `is_active` (Boolean) ‚Äî –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- `last_message_at` (DateTime) ‚Äî –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

**–¢–∞–±–ª–∏—Ü–∞ `messages`:**
- `message_id` (String) ‚Äî ID —Å–æ–æ–±—â–µ–Ω–∏—è
- `chat_id` (String, FK) ‚Äî —Å–≤—è–∑—å —Å —á–∞—Ç–æ–º
- `author_id` (String) ‚Äî ID –∞–≤—Ç–æ—Ä–∞
- `text` (Text) ‚Äî —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- `timestamp` (DateTime) ‚Äî –≤—Ä–µ–º—è —Å–æ–æ–±—â–µ–Ω–∏—è
- `processed` (Boolean) ‚Äî –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–¢–∞–±–ª–∏—Ü–∞ `userbot_orders`:**
- `id` (Integer, PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞–∫–∞–∑–∞
- `message_id` (String) ‚Äî ID —Å–æ–æ–±—â–µ–Ω–∏—è
- `chat_id` (String, FK) ‚Äî —Å–≤—è–∑—å —Å —á–∞—Ç–æ–º
- `category` (String) ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∑–∞–∫–∞–∑–∞
- `relevance_score` (Float) ‚Äî —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã (0.0-1.0)
- `detected_by` (String) ‚Äî –º–µ—Ç–æ–¥ –¥–µ—Ç–µ–∫—Ü–∏–∏: regex, llm, manual
- `telegram_link` (String) ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
- `created_at` (DateTime) ‚Äî –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è

**–¢–∞–±–ª–∏—Ü–∞ `stats`:**
- –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–∫–∞–∑–∞–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –º–µ—Ç–æ–¥–∞–º –¥–µ—Ç–µ–∫—Ü–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `src/database/schemas.py` ‚Äî SQLAlchemy –º–æ–¥–µ–ª–∏
- `src/database/repository.py` ‚Äî —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- `src/database/base.py` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase
- `migration_gioxfhlmzewgtqspokrt.sql` ‚Äî SQL –º–∏–≥—Ä–∞—Ü–∏—è

### 5. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

**CSV —ç–∫—Å–ø–æ—Ä—Ç:**
- –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–∞–∑–æ–≤ –≤ CSV —Ñ–æ—Ä–º–∞—Ç
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥—É –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ö–æ–ª–æ–Ω–∫–∏: ID, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ç–µ–∫—Å—Ç, –∞–≤—Ç–æ—Ä, —Å—Å—ã–ª–∫–∞, –¥–∞—Ç–∞

**HTML —ç–∫—Å–ø–æ—Ä—Ç:**
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è HTML —Ç–∞–±–ª–∏—Ü–∞
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¥–∞—Ç–µ
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º
- –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
- –°—Å—ã–ª–∫–∏ –Ω–∞ Telegram —Å–æ–æ–±—â–µ–Ω–∏—è

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `src/export/csv_exporter.py` ‚Äî CSV —ç–∫—Å–ø–æ—Ä—Ç
- `src/export/html_exporter.py` ‚Äî HTML —ç–∫—Å–ø–æ—Ä—Ç
- `src/export/filters.py` ‚Äî —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

### 6. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**Dashboard:**
- –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (Rich)
- –ú–µ—Ç—Ä–∏–∫–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥ (today, week, month, all)
- –¢–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤
- –¢–æ–ø –∞–≤—Ç–æ—Ä—ã –∑–∞–∫–∞–∑–æ–≤
- –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

**–≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫:**
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (CSV)
- –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (CSV)
- –°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç (JSON)

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `src/stats/dashboard.py` ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è dashboard
- `src/stats/metrics.py` ‚Äî —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫
- `src/stats/reporter.py` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫

### 7. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤ (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ-–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ)
- –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —á–∞—Ç–æ–≤
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ `config/chats.json`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —á–∞—Ç–æ–≤

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `src/config/chat_config.py` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏
- `src/main.py` ‚Äî CLI –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üìö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <GITHUB_REPO_URL>
cd userbot-orders
```

#### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cp .env.example .env
```

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

```env
# Telegram API
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_PHONE=+1234567890
TELEGRAM_PASSWORD=your_2fa_password  # –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ 2FA

# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_anon_key
SUPABASE_PASSWORD=your_db_password

# LLM Provider (ProxyAPI)
LLM_API_KEY=your_proxyapi_key
LLM_BASE_URL=https://api.proxyapi.ru/openai/v1
LLM_MODEL=gpt-4  # –∏–ª–∏ gpt-3.5-turbo
```

**–ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å:**
- **Telegram API:** https://my.telegram.org/apps
- **Supabase:** https://app.supabase.com ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Settings ‚Üí API
- **ProxyAPI:** https://proxyapi.ru

#### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
python3 -m src.main admin init-db
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é:
```bash
# –í Supabase Dashboard ‚Üí SQL Editor
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ migration_gioxfhlmzewgtqspokrt.sql
```

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –ó–∞–ø—É—Å–∫ userbot

```bash
python3 -m src.main start
```

**–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:**
1. –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ Telegram
2. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ 2FA ‚Äî –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å
3. –°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `userbot_session.session`

**–í–∞–∂–Ω–æ:** Userbot —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ. –ù–µ –ø—Ä–µ—Ä—ã–≤–∞–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å!

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ:**
```bash
python3 -m src.main chat auto-detect
```

**–†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ:**
```bash
python3 -m src.main chat add -1001234567890 \
  --name "–ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞" \
  --chat-type group \
  --priority 5
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤:**
```bash
python3 -m src.main chat list
```

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞

#### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**Dashboard –∑–∞ —Å–µ–≥–æ–¥–Ω—è:**
```bash
python3 -m src.main stats dashboard --period today
```

**Dashboard –∑–∞ –Ω–µ–¥–µ–ª—é:**
```bash
python3 -m src.main stats dashboard --period week
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã:** `today`, `week`, `month`, `all`

#### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

**CSV —ç–∫—Å–ø–æ—Ä—Ç –∑–∞ —Å–µ–≥–æ–¥–Ω—è:**
```bash
python3 -m src.main export csv --period today
```

**CSV —ç–∫—Å–ø–æ—Ä—Ç —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
```bash
python3 -m src.main export csv --period week --category Backend
```

**HTML —ç–∫—Å–ø–æ—Ä—Ç (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞):**
```bash
python3 -m src.main export html --period week
open exports/orders_*.html  # macOS
```

#### –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫

**–≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ CSV:**
```bash
python3 -m src.main stats export --period week
```

**–°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç (JSON):**
```bash
python3 -m src.main stats summary --period week
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏

**–í–∫–ª—é—á–∏—Ç—å —á–∞—Ç:**
```bash
python3 -m src.main chat enable -1001234567890
```

**–û—Ç–∫–ª—é—á–∏—Ç—å —á–∞—Ç:**
```bash
python3 -m src.main chat disable -1001234567890 --reason "–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω"
```

**–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
```bash
python3 -m src.main chat priority -1001234567890 5
```

**–£–¥–∞–ª–∏—Ç—å —á–∞—Ç:**
```bash
python3 -m src.main chat remove -1001234567890
```

### –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
python3 -m src.main admin init-db

# 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤
python3 -m src.main chat auto-detect

# 3. –ó–∞–ø—É—Å–∫ userbot
python3 -m src.main start
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# Userbot —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ (–Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ–º!)

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ —Å–µ–≥–æ–¥–Ω—è
python3 -m src.main stats dashboard --period today

# 2. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã
python3 -m src.main export csv --period today

# 3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open exports/orders_*.html
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

```bash
# 1. Dashboard —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
python3 -m src.main stats dashboard --period week

# 2. –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
python3 -m src.main export csv --period week
python3 -m src.main export html --period week
python3 -m src.main stats export --period week

# 3. –û—Ç–∫—Ä—ã—Ç—å HTML –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open exports/orders_*.html
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://app.supabase.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor**
4. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:
   - `messages` ‚Äî –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   - `userbot_orders` ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã
   - `stats` ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - `chats` ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —á–∞—Ç—ã

**SQL –∑–∞–ø—Ä–æ—Å—ã:**

```sql
-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∑–∞–∫–∞–∑–æ–≤
SELECT * FROM userbot_orders 
ORDER BY created_at DESC 
LIMIT 10;

-- –ó–∞–∫–∞–∑—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
SELECT category, COUNT(*) as count 
FROM userbot_orders 
GROUP BY category 
ORDER BY count DESC;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
SELECT * FROM stats 
WHERE date = CURRENT_DATE;
```

---

## üîó –°—Å—ã–ª–∫–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞

**GitHub:** https://github.com/Viphunter83/userbot-orders

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README.md** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **USER_GUIDE.md** ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **FINAL_CONNECTION_SETUP.md** ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
- **SUPABASE_SETUP.md** ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Supabase –ø—Ä–æ–µ–∫—Ç–∞
- **MIGRATION_INSTRUCTIONS.md** ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

- **Telegram API:** https://my.telegram.org/apps
- **Supabase:** https://app.supabase.com
- **ProxyAPI:** https://proxyapi.ru
- **Pyrogram Documentation:** https://docs.pyrogram.org

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **SQLAlchemy:** https://docs.sqlalchemy.org
- **Pydantic:** https://docs.pydantic.dev
- **Typer:** https://typer.tiangolo.com
- **Rich:** https://rich.readthedocs.io

---

## üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **Regex –∞–Ω–∞–ª–∏–∑:** ~1-5 –º—Å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ (zero-cost)
- **LLM –∞–Ω–∞–ª–∏–∑:** ~500-2000 –º—Å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–¥–µ–ª–∏)
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ LLM:** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–µ—à–∏—Ä—É—é—Ç—Å—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env` (–Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è –≤ git)
- ‚úÖ –°–µ—Å—Å–∏–∏ Telegram —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ SSL/TLS –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Pydantic

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞—Ç–æ–≤
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- Connection pooling –¥–ª—è Supabase
- Fallback –Ω–∞ REST API –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –ø—Ä—è–º—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Loguru
- –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: DEBUG, INFO, WARNING, ERROR
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (tokens, cost, requests)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Telegram API
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ LLM API (ProxyAPI)
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Supabase

### –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –ø—Ä–æ–µ–∫—Ç–∞.

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Telegram Orders Bot** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ IT-—É—Å–ª—É–≥–∏ –≤ Telegram. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ù–æ—è–±—Ä—å 2025

